<!DOCTYPE html>
<html>
    <meta charset="utf-8">
    <head>

        <link rel="stylesheet" href="styles/style.css">
        <title>Treemap for Visualizing Program Coverage</title>

    </head>

    <!--- Include external javascript libraries -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://dagrejs.github.io/project/dagre/latest/dagre.min.js"></script>
    <script src="https://dagrejs.github.io/project/dagre-d3/latest/dagre-d3.min.js"></script>
    <script src="https://dagrejs.github.io/project/graphlib-dot/latest/graphlib-dot.min.js"></script>
    <script src="https://code.easypz.io/easypz.latest.min.js"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>


    <body>
        <h1>Visualization of Fuzzer Coverage on Memdjpg</h1>

        <p style="margin-left: 1020px; font-weight: bold">Function coverage</p>
        <svg style="border: 1px dashed black; float:right" width=700px height=1000px easypz='{"applyTransformTo": ".graph", "modes": ["WHEEL_ZOOM", "FLICK_PAN"]}'>
        </svg>
      <div style="margin-left: 80px; float:left">
        <button style="margin-left: 20px" type="button" id="button">Start animation!</button><br/>
        <input type="range" id="range">
        <br/>
      </div>
      <div>
        <svg style="border: 1px dashed black; margin-left: 300px; margin-top: -40px" width=400px height=300px id="treemap" easypz='{"applyTransformTo": ".box", "modes": ["WHEEL_ZOOM", "FLICK_PAN"]}'>
        </svg>
      </div>


    </body>

<!-- JSFiddle does not allow us to upload .csv files, so using a simple hack to pass the data to the D3 library -->
<pre id="step0">
id,parentId,blocks,coverage_percent
functions,
main,functions,15,0
hello,functions,5,0
client,functions,10,0
server,functions,40,0
factory,functions,30,0
clear,functions,10,0
</pre>

<pre id="step1">
id,parentId,blocks,coverage_percent
functions,
main,functions,15,0.25
hello,functions,5,0
client,functions,10,0
server,functions,40,0
factory,functions,30,0.75
clear,functions,10,0.5
</pre>

<pre id="step2">
id,parentId,blocks,coverage_percent
functions,
main,functions,15,0.5
hello,functions,5,0.33
client,functions,10,0.5
server,functions,40,0
factory,functions,30,0.75
clear,functions,10,1
</pre>

<pre id="step3">
id,parentId,blocks,coverage_percent
functions,
main,functions,15,0.75
hello,functions,5,0.5
client,functions,10,0.75
server,functions,40,0.5
factory,functions,30,1
clear,functions,10,1
</pre>

<pre id="step4">
id,parentId,blocks,coverage_percent
functions,
main,functions,15,1
hello,functions,5,0.75
client,functions,10,1
server,functions,40,1
factory,functions,30,1
clear,functions,10,1
</pre>

<pre id="step5">
id,parentId,blocks,coverage_percent
functions,
main,functions,15,1
hello,functions,5,1
client,functions,10,1
server,functions,40,1
factory,functions,30,1
clear,functions,10,1
</pre>


    <script src="scripts/treemap.js"></script>
    <script src="scripts/function_coverage.js"></script>

</html>
